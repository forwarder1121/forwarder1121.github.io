# 컴퓨터 네트워크 스터디 4주차

# UDP

## UDP의 장단점

User Datagram Protocol의 약어인 UDP는 실시간성을 높이기 위하여 사용한다.

비연결성 프로토콜 이므로 일방적으로 UDP 커넥션이라는 통신로를 만들고 애플리케이션 데이터를 송신한다.

![TCP vs UDP](data:image/jpeg;base64,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)

UDP는 신뢰성을 희생한 대신, 실시간성을 높인 프로토콜이라 할 수 있다.

## UDP 패킷의 구조 & 체크섬

![UDP 패킷 포멧](data:image/jpeg;base64,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)

**UDP 패킷**

1. Source Port : 송신 포트 번호
2. Destination Port : 수신 포트 번호
3. Length : 패킷의 길이
4. Checksum : 체크섬

여기서 체크섬은 수신 단말이 받아 들인 UDP 패킷의 손상 여부를 체크하는 데 사용되는 필드이다.

이때 '1의 보수 연산'을 사용하여 손상 여부를 체크하고. 데이터그램을 받은 단말은 검증에 성공하면 데이터그램을 받는다.

체크섬은 이와 같이 데이터가 손상되었을 경우 이를 탐지할 수 있게 한다.

그러나 체크섬 에러는 데이터 유실의 필요 조건이기 때문에

**체크섬 에러가 발생하지 않았다 하더라도 데이터가 유실되지 않았다는 것을 100% 보장하지는 못한다.**

## 신뢰적 데이터 전송의 원리

### Stop-And-Wait 프로토콜

![전송 후 대기 프로토콜](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSTWbjI9TEg-0FREbmfhzTvP_LCbpF1uahRWmjbNta0Li5RI_f2V8xde2usANY7o_WePJI&usqp=CAU)

이 프로토콜은 송신자가 하나의 프레임을 전송하고, 수신자로부터의 확인 신호(ACK)가 도착할 때까지 기다리는 프로토콜이다.

송신자는 수신자로부터 확인 신호(ACK)를 받으면 다음 프레임을 전송하고, 부정 신호(NAK)를 받으면 같은 프레임을 재전송한다.

이 프로토콜은 구현이 간단하고, 오류 검출 및 복구가 쉽지만,

송신자는 매번 하나의 프레임만 전송할 수 있고 응답 신호를 기다려야 하므로 효율성이 낮다는 단점이 있다.

### Pipeline 프로토콜

stop-and-wait 프로토콜이 지닌 효율성이 낮은 단점을 극복하기 위한 프로토콜이다.

파이프라인 같이 패킷을 한번에 보낼때 여러개를 보내는 프로토콜이다.

그리고, 파이프라인 프로토콜에서 발생하는 오류를 처리하는 방법에 따라 Go-Back-N, Selective Repeat으로 나뉜다.

#### Go-Back-N(N부터 반복)

![GBN](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fd8OlT0%2FbtrCYvVHDhc%2FrydJakEhynFZC5hIrqsWK1%2Fimg.png)

이 그림에서 보이듯이 pkt 2가 유실되었으므로, sender는 pkt2가 유실되었음을 감지한다.

이때 이미 송신된 pkt 3,4,5도 전부 다시 송신하게 된다

> Go-Back-N은 누락된 패킷(N)부터 모든 패킷을 재전송한다.

그러나 하나의 패킷 오류 때문에 많은 패킷은 재전송하는 것은 낭비이다. 그리고 이를 해결하기 위한 것이 Selective Repeat 모델이다.

#### Selective Repeat

selective repeat는 N번까지 잘 받았다는 의미의 Go-Back-N의 ACK(N)과 다른 의미인,

딴 건 모르겠고 N번 패킷은 잘 받았다는 의미의 ACK(N)을 사용한다.

![SR](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FdD7gQ0%2FbtrCVQ08J4M%2FRKBUslc2nQipjeJNW3uCo1%2Fimg.png)

따라서 유실된 패킷 하나만 더 보내면 되므로 Go-Back-N보다 효율적이다.

> Select Repeat은 유실된 패킷만을 재전송한다.

# TCP

Transmission Control Protocol은 데이터 전송의 신뢰성을 요구하는 곳에서 사용하는 프로토콜이다.

TCP는 TCP 커넥션이라는 논리적 통신로를 만들어 송신파이프, 수신파이프를 사용한다.

송신 측 단말이 '데이터를 보냄!' 수신 측 단말이 '데이터를 받음!'하며 서로 확인해 가며 데이터를 보내기 때문에 신뢰성이 높다.

**TCP 커넥션의 단계**

1. 접속 시작 단계 : 3 way handshake
2. 접속 확립 단계 : 흐름 제어, 혼잡 제어, 재전송 제어
3. 접속 종료 단계 : 4 way handshake

**기본 지식**

- SYN : synchronize squence numbers
- ACK : acknowledgment

## 3 way handshake

3 way handshake는 TCP 커넥션을 확립하기 전에 3번의 인사를 수행하는 절차이다.

![3 way handshake](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F225A964D52F1BB6917)

1. 클라이언트는 서버에 접속을 요청하는 SYN 패킷을 보낸다.
2. 서버는 SYN 패킷을 받고 SYN/ACK 패킷으로 응답한다.
3. 클라이언트는 서버에 ACK를 보내고 연결이 이루어 진다.

## 4 way handshake

4 way handshake는 TCP 커넥션을 종료하기 위해 수행하는 절차이다.

![4 way handshake](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F2152353F52F1C02835)

1. 클라이언트가 연결을 종료하겠다는 FIN 패킷을 전송한다.
2. 서버는 ACK를 보내고 자신의 통신이 끝날때 까지 기다린다.
3. 서버가 통신이 끝났으면 연결이 종료되었다고 FIN 패킷 전송
4. 클라이언트는 서버에 ACK를 보내 확인했다고 알린다.
5. 클라이언트는 잠시 동안 TIME_WAIT상태에서 혹시 모를 패킷을 기다린 후, 커넥션을 삭제한다.

## TCP 제어

### Flow Control

흐름 제어는 수신 측 단말이 수행하는 흐름양 제어이다.

원도우의 크기를 송신 측에 알려서 수신 측 단말이 데이터를 못 받는 경우가 발생하지 않는 선에서 가능한 많은 데이터를 송신하게 한다.

### Congestion Control

혼잡 제어는 송신 측 단말이 수행하는 흐름양 제어이다.

TCP가 대량의 송신 패킷에 의해 네트워크가 혼잡해지지 않도록 혼잡 제어 알고리즘을 이용하는데, 어떤 정보에 기반해 혼잡을 판단하는지에 따라

1. 로그 기반 : 패킷이 유실
2. 지연 기반 : 패킷이 지연
3. 하이브리드 기반

으로 나눌 수 있다.

### TCP 빠른 재전송

![TCP 빠른 재전송](https://velog.velcdn.com/images%2Fmu1616%2Fpost%2F878686ca-8073-420d-8e63-6afc79622f5d%2Fimage.png)

수신 측은 자신이 정상적으로 수신한 패킷의 다음 순번을 ACK 패킷으로 보내는데, 만일 중복 ACK가 수신되었다면 이는 데이터의 누락이 발생한 것.

송신 측이 중복 ACK를 받게 되면, 자신이 설정한 타임아웃 시간이 지나지 않았어도 바로 해당 패킷을 재전송 하기 때문에, 빠른 전송률를 유지할 수 있다.

중복 ACK가 발생하지 않는 에러(마지막 패킷의 유실 혹은 ACK가 유실)는 재전송 타임아웃에 의해 재전송 된다.
